function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n,r,a,i,o,c,l=document.querySelector("table"),s=[],d=t(l.tBodies[0].children).map(function(e){return e.children[2].textContent}).filter(function(e,t,n){return n.indexOf(e)===t});function u(e,n,r){return e.sort(function(e,a){return"asc"===r?+t(e.children)[n].textContent.replace(/[^0-9.]/g,"")-+t(a.children)[n].textContent.replace(/[^0-9.]/g,""):+t(a.children)[n].textContent.replace(/[^0-9.]/g,"")-+t(e.children)[n].textContent.replace(/[^0-9.]/g,"")})}function m(e,n,r){return e.sort(function(e,a){return"asc"===r?t(e.children)[n].textContent.localeCompare(t(a.children)[n].textContent):t(a.children)[n].textContent.localeCompare(t(e.children)[n].textContent)})}function f(){l.tBodies[0].addEventListener("click",function(e){e.target.parentNode.classList.toggle("active"),t(document.querySelector("tbody").children).map(function(t){t!==e.target.parentNode&&t.classList.remove("active")})})}l.tHead.addEventListener("click",function(e){(function(e,n){var r,a,i=function(e){switch(e){case"Position":return 1;case"Office":return 2;case"Age":return 3;case"Salary":return 4;default:return 0}}(e);switch(e){case"Age":case"Salary":n.dataset.order&&"desc"!==n.dataset.order?(s=u(t(l.tBodies[0].children),i,"desc"),n.removeAttribute("asc"),n.setAttribute("data-order","desc")):(s=u(t(l.tBodies[0].children),i,"asc"),n.removeAttribute("desc"),n.setAttribute("data-order","asc"));break;default:n.dataset.order&&"desc"!==n.dataset.order?(s=m(t(l.tBodies[0].children),i,"desc"),n.removeAttribute("asc"),n.setAttribute("data-order","desc")):(s=m(t(l.tBodies[0].children),i,"asc"),n.removeAttribute("desc"),n.setAttribute("data-order","asc"))}l.tBodies[0].remove(),r=s,a=document.createElement("tbody"),r.map(function(e){a.append(e)}),l.append(a),f(),S()})(e.target.textContent,e.target)}),f(),n=document.createElement("div"),r=document.createElement("h2"),a=document.createElement("p"),r.classList.add("title"),r.style.textAlign="center",a.style.bold="600",n.setAttribute("data-qa","notification"),n.classList.add("notification"),n.style.zIndex="1",n.style.visibility="hidden",n.append(r,a),document.body.append(n),(o=document.createElement("form")).classList.add("new-employee-form"),t(l.tHead.firstElementChild.children).map(function(e){return e.textContent}).forEach(function(e){var t=document.createElement("label");t.textContent="".concat(e,":"),o.append(t)}),o.append(((i=document.createElement("button")).setAttribute("type","submit"),i.textContent="Save to table",i)),document.body.appendChild(o),t(document.querySelectorAll(".new-employee-form label")).map(function(e){var t=document.createElement("input"),n=e.textContent[0].toLowerCase()+e.textContent.slice(1,-1);switch(e.textContent.slice(0,-1)){case"Name":case"Position":t.setAttribute("name",n),t.setAttribute("type","text"),t.setAttribute("data-qa",n),t.required=!0,e.append(t);break;case"Age":case"Salary":t.setAttribute("name",n),t.setAttribute("type","number"),t.setAttribute("data-qa",n),t.required=!0,e.append(t);break;default:var r,a=(r=document.createElement("select"),d.map(function(e){var t=document.createElement("option");t.setAttribute("value",e),t.textContent=e,r.append(t)}),r);a.setAttribute("name",n),a.setAttribute("data-qa",n),a.required=!0,e.append(a)}});var p=document.querySelector(".new-employee-form"),v=p.querySelector('[data-qa="name"]'),h=p.querySelector('[data-qa="position"]'),y=p.querySelector("select"),b=p.querySelector('[data-qa="age"]'),C=p.querySelector('[data-qa="salary"]');function A(e){return e.split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join(" ")}function g(e,t){var n=e[0].toUpperCase()+e.slice(1),r=document.querySelector(".notification");if(r.children[0].textContent=n,r.children[1].textContent=t,r.className.split(" ")[1]){var a=r.className.split(" ");a[1]=e,r.className=a.join(" ")}else r.className+=" ".concat(e);r.style.visibility="visible",setTimeout(x,2e3)}function x(){document.querySelector(".notification").style.visibility="hidden"}function q(e){return"$"+Number(e).toLocaleString().replace(/\s/g,",")}function S(){l.tBodies[0].addEventListener("dblclick",function(e){var t=e.target,n=t.textContent,r=document.createElement("input");r.classList.add("cell-input"),e.target.textContent="",e.target.appendChild(r),l.tBodies[0].querySelectorAll("td").forEach(function(e){e!==t&&"cell-input"===e.firstChild.className&&(e.firstChild.remove(),e.textContent=c)}),c=n,r.focus(),r.addEventListener("blur",function(e){l.tBodies[0].querySelectorAll("td").forEach(function(e){"cell-input"===e.firstChild.className&&(e.firstChild.remove(),e.textContent=r.value?/\d/.test(r.value)?q(r.value):A(r.value):n)})}),function(e,t){e.addEventListener("keypress",function(n){13===n.keyCode&&e.value&&l.tBodies[0].querySelectorAll("td").forEach(function(n){"cell-input"===n.firstChild.className&&(n.firstChild.remove(),t.startsWith("$")?n.textContent=q(e.value):n.textContent=A(e.value))}),13!==n.keyCode||e.value||l.tBodies[0].querySelectorAll("td").forEach(function(e){"cell-input"===e.firstChild.className&&(e.firstChild.remove(),e.textContent=t)})})}(r,n)})}p.addEventListener("submit",function(e){e.preventDefault(),function(){var e=v.value.trim(),t=b.value.trim(),n=h.value.trim(),r=C.value.trim(),a=y.value,i=[];if(e.length<4){g("error","Name must be at least 4 characters!");return}if(2!==e.split(" ").length){g("error","Name should contain name and surname!");return}if(t<18||t>=90){g("error","Age must be more than 18 and less than 90!");return}g("success","New employee added to the table!"),i.push(A(e),A(n),a,t,r),function(e){for(var t=l.tBodies[0].insertRow(-1),n=0;n<e.length;n++){var r=t.insertCell(n);n===e.length-1?r.innerHTML=q(e[n]):r.innerHTML="".concat(e[n])}}(i),p.reset()}()}),S();
//# sourceMappingURL=index.02c34f4d.js.map
